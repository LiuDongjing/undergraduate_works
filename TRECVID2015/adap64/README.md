# Query adaptive
在使用Bag of Words(BOW)算法时，query adaptive 是计算词向量距离的改进方法。具体来说，
在计算查询词向量q和文档词向量d之间的距离时，将d与q对齐，也就是只保留d中同时存在于d
和q中的单词，丢弃只存在于d中的单词，对于只存在于q中的单词，词频置为0。

```
q = [
1 3 4
3 2 1
]

d = [
1 4 5
1 2 3
]
```

第一行是word编号，对应的第二行是word的频数，那么计算q和d之间距离的方式如下：

distance = sqrt((3-1)^2 + (2-0)^2 + (1-2)^2)

之所以这样计算是因为d是一个场景的bow，可能包含很多视觉词汇，比如有人眼、车轮、路标等，
q是一个待查询的对象，比如一张人脸，视觉词汇较少，可能只有人眼，那么用传统方法计算出d
和q的距离可能比q和另一个简单场景的距离要大，这样就会出现错误匹配。